"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const settings = require.main.require('./src/meta').settings;
const defaults = {
    parseNative: true,
    parseAscii: true,
    customFirst: false,
};
const get = async () => {
    const data = await settings.get('emoji');
    const sets = {};
    Object.keys(defaults).forEach((key) => {
        const defaultVal = defaults[key];
        const str = data[key];
        if (typeof str !== 'string') {
            sets[key] = defaultVal;
            return;
        }
        const val = JSON.parse(str);
        if (typeof val !== typeof defaultVal) {
            sets[key] = defaultVal;
            return;
        }
        sets[key] = val;
    });
    return sets;
};
exports.get = get;
const set = async (data) => {
    const sets = {};
    Object.keys(data).forEach((key) => {
        sets[key] = JSON.stringify(data[key]);
    });
    await settings.set('emoji', sets);
};
exports.set = set;
const getOne = async (field) => {
    const str = await settings.getOne('emoji', field);
    const defaultVal = defaults[field];
    let val = JSON.parse(str);
    if (typeof val !== typeof defaultVal) {
        val = defaultVal;
    }
    return val;
};
exports.getOne = getOne;
const setOne = async (field, value) => {
    await settings.setOne('emoji', field, JSON.stringify(value));
};
exports.setOne = setOne;
//# sourceMappingURL=settings.js.map